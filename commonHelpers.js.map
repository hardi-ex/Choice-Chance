{"version":3,"file":"commonHelpers.js","sources":["../src/js/main.js"],"sourcesContent":["const startBtn = document.querySelector('.start-btn');\nconst container = document.querySelector('.game-container');\nconst result = document.querySelector('.result');\nconst imgEl = document.querySelector('.img');\n\nfunction createPromise(delay, isActive = true) {\n  const promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (isActive) resolve('ðŸ¥ƒ');\n      else reject('ðŸ–•');\n    }, delay);\n  });\n  return promise;\n}\n\nlet timeoutId;\n\nstartBtn.addEventListener('click', () => {\n  clearTimeout(timeoutId);\n\n  const promises = [];\n\n  result.classList.remove('result-lose');\n  result.classList.remove('result-win');\n  result.classList.add('result');\n\n  result.textContent = '...';\n\n  startBtn.disabled = true;\n\n  for (let i = 0; i < 3; i++) {\n    container.children[i].textContent = '';\n    const p1 = createPromise((i + 1) * 250, Math.random() > 0.3);\n    p1.then(smile => {\n      container.children[i].textContent = smile;\n    }).catch(smile => {\n      container.children[i].textContent = smile;\n    });\n    promises.push(p1);\n  }\n\n  Promise.allSettled(promises).then(arr => {\n    const smiles = arr.map(obj => obj.value || obj.reason);\n    // const isWinner = smiles.every(el => el === 'ðŸ¤‘');\n    const isWinner = !smiles.includes('ðŸ–•');\n    if (isWinner) {\n      result.classList.add('result-win');\n      result.classList.remove('result');\n      result.textContent = `Drink!`;\n    } else {\n      result.classList.add('result-lose');\n      result.classList.remove('result');\n      result.textContent = 'Home';\n    }\n    startBtn.disabled = false;\n  });\n\n  timeoutId = setTimeout(() => {\n    for (let i = 0; i < 3; i++) {\n      container.children[i].textContent = '';\n    }\n    result.classList.add('result');\n    result.classList.remove('result-lose');\n    result.classList.remove('result-win');\n    result.textContent = 'Result';\n  }, 5000);\n});\n"],"names":["startBtn","container","result","createPromise","delay","isActive","resolve","reject","timeoutId","promises","i","p1","smile","arr","obj"],"mappings":"ssBAAA,MAAMA,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAY,SAAS,cAAc,iBAAiB,EACpDC,EAAS,SAAS,cAAc,SAAS,EACjC,SAAS,cAAc,MAAM,EAE3C,SAASC,EAAcC,EAAOC,EAAW,GAAM,CAO7C,OANgB,IAAI,QAAQ,CAACC,EAASC,IAAW,CAC/C,WAAW,IAAM,CACXF,EAAUC,EAAQ,IAAI,EACrBC,EAAO,IAAI,CACjB,EAAEH,CAAK,CACZ,CAAG,CAEH,CAEA,IAAII,EAEJR,EAAS,iBAAiB,QAAS,IAAM,CACvC,aAAaQ,CAAS,EAEtB,MAAMC,EAAW,CAAA,EAEjBP,EAAO,UAAU,OAAO,aAAa,EACrCA,EAAO,UAAU,OAAO,YAAY,EACpCA,EAAO,UAAU,IAAI,QAAQ,EAE7BA,EAAO,YAAc,MAErBF,EAAS,SAAW,GAEpB,QAASU,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1BT,EAAU,SAASS,CAAC,EAAE,YAAc,GACpC,MAAMC,EAAKR,GAAeO,EAAI,GAAK,IAAK,KAAK,SAAW,EAAG,EAC3DC,EAAG,KAAKC,GAAS,CACfX,EAAU,SAASS,CAAC,EAAE,YAAcE,CAC1C,CAAK,EAAE,MAAMA,GAAS,CAChBX,EAAU,SAASS,CAAC,EAAE,YAAcE,CAC1C,CAAK,EACDH,EAAS,KAAKE,CAAE,CACjB,CAED,QAAQ,WAAWF,CAAQ,EAAE,KAAKI,GAAO,CAGtB,CAFFA,EAAI,IAAIC,GAAOA,EAAI,OAASA,EAAI,MAAM,EAE5B,SAAS,IAAI,GAEpCZ,EAAO,UAAU,IAAI,YAAY,EACjCA,EAAO,UAAU,OAAO,QAAQ,EAChCA,EAAO,YAAc,WAErBA,EAAO,UAAU,IAAI,aAAa,EAClCA,EAAO,UAAU,OAAO,QAAQ,EAChCA,EAAO,YAAc,QAEvBF,EAAS,SAAW,EACxB,CAAG,EAEDQ,EAAY,WAAW,IAAM,CAC3B,QAASE,EAAI,EAAGA,EAAI,EAAGA,IACrBT,EAAU,SAASS,CAAC,EAAE,YAAc,GAEtCR,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,UAAU,OAAO,aAAa,EACrCA,EAAO,UAAU,OAAO,YAAY,EACpCA,EAAO,YAAc,QACtB,EAAE,GAAI,CACT,CAAC"}